{% extends "base.html" %}

{% block content %}
<div class="container container-inv animated fadeIn">


<script src="/static/js/scripts.js"></script>
<script src="/static/js/jquery.min.js"></script>
<script>GetURL({{ social_id|tojson }});</script>
<script>
    var socialId = '{{ social_id }}';
</script>

<div class="row prof-wrap">
        <div class="col-md-12 prof-title">
            <a id="Nickname">{{ nickname }}</a>
        </div>
        <div class="col-md-12 prof-body">
            <div class="col-md-3">
              <img src="https://www-cdn.jtvnw.net/images/xarth/404_user_50x50.png" alt="" class="ProfilePicture img-responsive"/>
              <div>
                <center>
                    <i class="fab fa-twitch"></i><span> </span><a href="{{url_for('twitch', username=nickname)}}">https://twitch.tv/{{ social_id }}</a>
                </center>
              </div>
              <hr>
              <div>
                <center>
                    <p id="Note">Note: We Recommend using a fresh xpub (new wallet). First address "generation" on a wallet with many used addresses takes more time.</p>
		    <form class="" method="post" action="#">
			<div class="form-group">
				<button id="testAlertButton" class="btn btn-primary-cstm button1">Test tip alert</button>
		    	</div>
		    </form>
		    <form class="" method="post" action="#">
                        <div class="form-group">
                                <button id="testAlertSLPButton" class="btn btn-primary-cstm button1">Test SLP tip alert</button>
                        </div>
                    </form>
                </center>
              </div>
            </div>

            <div class="col-md-9">
                <h1 class="title highlight">User Settings</h1>
                <hr>
                    <form class="" method="post" name="ProfileForm" action="#">
                        <div class="form-group">
                            <label for="xpub" class="control-label">Wallet Extended Public Key (<a href="/how"><span class="highlight">what is this?</span></a>)</label>
                            <div class="input-group">
                                <span class="input-group-addon"><i class="fa fa-code"></i></span>
                                <input type="text" class="form-control" name="xpub_field" id="xpub"  value="{{ xpub }}" placeholder="Example: xpub6APEnZ.... (111-char)" required> </input>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="text" class="">Tell us a little about yourself (maximum of 255 characters) </label>
                            <div class="for">
                                <div class="input-group">
                                    <span class="input-group-addon"><i class="fas fa-comment"></i></span>
                                    <textarea class="form-control" rows="3" name="user_display_text_field" id="text" placeholder="{{ display_text }}"></textarea>
                                </div>
                            </div>
                        </div>

                        <h1 class="title highlight">Donation Alert Settings</h1>
                        <hr>

                        <div class="form-group">
                            <label for="image" class="control-label">Image/GIF (link)</label>
                            <div class="input-group">
                                <span class="input-group-addon"><i class="fas fa-font"></i></span>
                                <input type="text" class="form-control" name="image_ref_field" id="image" value="{{ image_ref }}" placeholder="Default: https://media.giphy.com/media/1kTU8a4ehOqydBqk3f/giphy.gif"> </input>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="sound" class="control-label">Sound (link)</label>
                            <div class="input-group">
                                <span class="input-group-addon"><i class="fas fa-music"></i></span>
                                <input type="text" class="form-control" name="sound_ref_field" id="sound"  value="{{ sound_ref }}" placeholder="Default: https://uploads.twitchalerts.com/000/003/774/415/m_health.wav"> </input>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="image" class="control-label">Minimum Donation for Alert (in USD)</label>
                            <div class="input-group">
				<span class="input-group-addon">$</span>
                                <input type="number" step="any" class="form-control" name="min_donation_ref_field" id="donation" value="{{ min_donation_ref }}" placeholder="Default: 0.00"> </input>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="color" class="control-label">Text Color</label>
                            <div class="input-group">
                                <span class="input-group-addon"><i class="fas fa-font"></i></span>
                                <input type="color" class="form-control" name="text_color_field" id="color" value="{{ color }}" placeholder="Default: #22cc76"> </input>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="text" class="control-label">Enable SLP Tips?</label>
                            <div class="input-group">
                                <span class="input-group-addon"><i class="fas fa-font"></i></span>
				<select name="slp_ref_field" class="form-control">
				{% if slp_ref == 'OFF' %}
     					<option value="ON">ON</option>
     					<option value="OFF" selected value>OFF</option>
				{% endif %}
				{% if slp_ref == 'ON' %}
                                        <option value="ON" selected value>ON</option>
                                        <option value="OFF">OFF</option>
                                {% endif %}
     				</select>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="image" class="control-label">Image/GIF (link) for SLP Tips</label>
                            <div class="input-group">
                                <span class="input-group-addon"><i class="fas fa-font"></i></span>
                                <input type="text" class="form-control" name="slp_image_ref_field" id="image" value="{{ slp_image_ref }}" placeholder="Default: https://media.giphy.com/media/1kTU8a4ehOqydBqk3f/giphy.gif"> </input>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="sound" class="control-label">Sound (link) for SLP Tips</label>
                            <div class="input-group">
                                <span class="input-group-addon"><i class="fas fa-music"></i></span>
                                <input type="text" class="form-control" name="slp_sound_ref_field" id="sound"  value="{{ slp_sound_ref }}" placeholder="Default: https://uploads.twitchalerts.com/000/003/774/415/m_health.wav"> </input>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="color" class="control-label">Text Color for SLP Tips</label>
                            <div class="input-group">
                                <span class="input-group-addon"><i class="fas fa-font"></i></span>
                                <input type="color" class="form-control" name="slp_text_color_field" id="color" value="{{ slp_color }}" placeholder="Default: #ff0000"> </input>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="image" class="control-label">Minimum Spice Token for Alert</label>
                            <div class="input-group">
                                <span class="input-group-addon">ðŸŒ¶</span>
                                <input type="number" step="any" class="form-control" name="min_slp_ref_field" id="donation" value="{{ min_slp_ref }}" placeholder="Default: 0.0"> </input>
                            </div>
                        </div>

                        <div class="form-group">
                            <button type="submit" class="btn btn-primary-cstm btn-lg btn-block login-button">Update</button>
                        </div>
                    </form>

        </div>
    </div>

</div>
{% endblock %}
